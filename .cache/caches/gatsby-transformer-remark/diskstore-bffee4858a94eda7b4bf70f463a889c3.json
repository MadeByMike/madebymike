{"expireTime":9007200803979234000,"key":"transformer-remark-markdown-html-6c575f518b90f743b353d04cc8d41fb1-gatsby-remark-prismjs-","val":"<p>A friend was trying to set a theme on a container and have it apply a color to the border of a heading, and the body text. Something like this:\n<img src=\"//images.ctfassets.net/2cb7djx9f8kv/5d9fvupAkguQaCqAIkAIeY/fbc8b88a1eca000dba724401728e2dcb/custom-props.png\" alt=\"A black heading with a blue border and blue paragraphs below\"></p>\n<p>She wanted to keep it simple with minimal CSS and ideally set the theme by applying just a single class in the HTML.</p>\n<p>Since we wanted to change the color of more than just paragraphs in the body text, it made sense to start by setting the <code class=\"language-text\">color</code> property on a container element. This would allow all elements inside the container to inherit the theme color and we could just set the headings back to black.</p>\n<p>Since we wanted to set the color in just one place, I suggested we set the value of <code class=\"language-text\">border-color</code> on the headings to inherit. This would cause the heading element to have the same value for <code class=\"language-text\">border-color</code> as its parent element. To my initial surprise the color of the border was black.</p>\n<p>My CSS was something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.theme</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #2378a3<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.theme-heading</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> black<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-color</span><span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Since there is no <code class=\"language-text\">border-color</code> set on the <code class=\"language-text\">.theme</code> class, the default value is used. The default for <code class=\"language-text\">border-color</code> is <code class=\"language-text\">currentColor</code>, and in the context of <code class=\"language-text\">.theme</code>, the value of <code class=\"language-text\">currentColor</code> in this example is <code class=\"language-text\">#2378a3</code>.  This is the value I expected <code class=\"language-text\">.theme-heading</code> to inherit. </p>\n<p>You might be wondering, as I was, what exactly is happening? The answer is, it’s not a bug, and it’s still inheriting from the parent element. It turns out, when we inherit <code class=\"language-text\">currentColor</code> we are not retrieving the resolved value of that property from the parent. Instead we are inheriting the keyword itself, and the computed value will be resolved in the local context. And, therefore in this example the border color will be black.</p>\n<p>The solution is of course to set the value of the <code class=\"language-text\">border-color</code> as well as <code class=\"language-text\">color</code> in the <code class=\"language-text\">.theme</code> selector:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.theme</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #2378a3<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-color</span><span class=\"token punctuation\">:</span> #2378a3<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.theme-heading</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> black<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-color</span><span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now we are no longer inheriting a dynamic property and the border color will be <code class=\"language-text\">#2378a3</code> as expected. And we are still setting the color values only on the <code class=\"language-text\">.theme</code> class.</p>\n<p>Maybe this is what you expected. Perhaps the reason I didn’t, is that I’ve been working with custom properties a lot recently, and although they are both dynamic, custom properties will not work like <code class=\"language-text\">currentColor</code> in the same situation.</p>\n<p>An equivalent example with custom properties would look something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.theme</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--theme-color</span><span class=\"token punctuation\">:</span> #2378a3<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--theme-color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--theme-color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.theme-heading</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--theme-color</span><span class=\"token punctuation\">:</span> black<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--theme-color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-color</span><span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>In this situation the <code class=\"language-text\">border-color</code> of <code class=\"language-text\">.theme-heading</code> is inheriting the <code class=\"language-text\">--theme-color</code> custom property from the parent element. Yet even though the value of <code class=\"language-text\">--theme-color</code> is set locally to black, its border-color will not use this local value in the same way <code class=\"language-text\">currentColor</code> did.</p>\n<p>Inheriting a value set by a custom property will always match the resolved value from the parent.</p>\n<p><strong>Note</strong>: The <code class=\"language-text\">color</code> property in this example will take the local value, because it is not inherited.</p>\n<p>The key difference here is: The <code class=\"language-text\">currentColor</code> keyword is not resolved at computed-value time, but is a reference to the used value of the local <code class=\"language-text\">color</code> property.</p>\n<p>Since learning about custom properties, I'd started to think of <code class=\"language-text\">currentColor</code> as a dynamic property in a very similar to custom properties. It turns out there are some fundamental differences that have real implications that we should be aware of. And again, this example highlights how different custom properties are from variables in preprocessors.</p>"}