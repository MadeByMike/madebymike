{"version":3,"sources":["map.js","store.js","list.js","filters.js","mapbox.js","index.js"],"names":["Map","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","myMapContainer","React","createRef","current","appendChild","map","element","resize","react_default","a","createElement","ref","Component","items","id","name","color","coordinates","store","createStore","filter","activeItem","hoverItem","List","itemId","className","item","key","concat","addActiveClassName","onMouseOver","_","setState","onMouseOut","connectedList","connect","Filters","buttonType","onClick","setFilter","connectedFilters","state","filteredItems","setActiveItem","mapboxgl","accessToken","mapboxMap","document","classList","add","container","style","center","zoom","drawMarkers","bind","subscribe","markers","on","getState","addEventListener","e","_this2","forEach","marker","remove","el","Marker","setLngLat","addTo","push","myMap","App","unistore_react","map_Map","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.6436b963.chunk.js","sourcesContent":["import React from \"react\";\n\nclass Map extends React.Component {\n  constructor(props) {\n    super(props);\n    this.myMapContainer = React.createRef();\n  }\n\n  componentDidMount() {\n    this.myMapContainer.current.appendChild(this.props.map.element);\n    this.props.map.map.resize();\n  }\n\n  render() {\n    return <div ref={this.myMapContainer} />;\n  }\n}\n\nexport { Map };\n","// The store:\nimport createStore from \"unistore\";\n\nconst items = [\n  {\n    id: 1,\n    name: \"New South Wales\",\n    color: \"red\",\n    coordinates: [146.9091796875, -32.026706293336126]\n  },\n  {\n    id: 2,\n    name: \"Queensland\",\n    color: \"blue\",\n    coordinates: [144.53613281249997, -22.75592068148639]\n  },\n  {\n    id: 3,\n    name: \"Victoria\",\n    color: \"red\",\n    coordinates: [145.4150390625, -37.16031654673676]\n  },\n  {\n    id: 4,\n    name: \"Tasmania\",\n    color: \"red\",\n    coordinates: [146.5576171875, -41.96765920367816]\n  },\n  {\n    id: 5,\n    name: \"South Australia\",\n    color: \"blue\",\n    coordinates: [136.0107421875, -30.06909396443886]\n  },\n  {\n    id: 6,\n    name: \"Northern Territory\",\n    color: \"blue\",\n    coordinates: [133.5498046875, -19.31114335506464]\n  },\n  {\n    id: 7,\n    name: \"Western Australia\",\n    color: \"blue\",\n    coordinates: [122.1240234375, -25.403584973186703]\n  }\n];\n\nconst store = createStore({\n  filter: \"all\",\n  items,\n  activeItem: 0,\n  hoverItem: 0\n});\n\nconst actions = store => ({\n  setFilter(state, filter) {\n    const filteredItems = items.filter(item => {\n      return filter === \"all\" || item.color === filter;\n    });\n    return {\n      filter,\n      items: filteredItems\n    };\n  },\n  setActiveItem(state, activeItem) {\n    return {\n      activeItem\n    };\n  }\n});\n\nexport { store, actions };\n","import React from \"react\";\nimport { connect } from \"unistore/react\";\nimport { store } from \"./store\";\n\nclass List extends React.Component {\n  addActiveClassName(itemId) {\n    return this.props.activeItem === itemId ? \"active\" : \"inactive\";\n  }\n\n  render() {\n    return (\n      <ul className=\"list\">\n        {this.props.items.map(item => {\n          return (\n            <li\n              key={item.name}\n              className={`listItem ${this.addActiveClassName(item.id)} ${\n                item.color\n              }`}\n              onMouseOver={_ => {\n                store.setState({ hoverItem: item.id });\n              }}\n              onMouseOut={_ => {\n                store.setState({ hoverItem: 0 });\n              }}\n            >\n              {item.name}\n            </li>\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nconst connectedList = connect(\"items, activeItem\")(List);\n\nexport { connectedList as List };\n","import React from \"react\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"./store\";\nimport { List } from \"./list\";\n\nclass Filters extends React.Component {\n  addActiveClassName(buttonType) {\n    return this.props.filter === buttonType ? \"active\" : \"inactive\";\n  }\n\n  render() {\n    return (\n      <div className=\"filters\">\n        <div className=\"filterButtons\">\n          <button\n            onClick={_ => this.props.setFilter(\"all\")}\n            className={`filterButton ${this.addActiveClassName(\"all\")}`}\n          >\n            All\n          </button>\n          <button\n            onClick={_ => this.props.setFilter(\"red\")}\n            className={`filterButton ${this.addActiveClassName(\"red\")}`}\n          >\n            Red\n          </button>\n          <button\n            onClick={_ => this.props.setFilter(\"blue\")}\n            className={`filterButton ${this.addActiveClassName(\"blue\")}`}\n          >\n            Blue\n          </button>\n        </div>\n        <List />\n      </div>\n    );\n  }\n}\n\nconst connectedFilters = connect(\n  \"filter\",\n  actions\n)(Filters);\n\nexport { connectedFilters as Filters };\n","/* global mapboxgl:true */\nimport { store, actions } from \"./store\";\n\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoibWFkZWJ5bWlrZSIsImEiOiJsRmJ2WTFvIn0.vAjq0NGB6sn-6gy48wGH2Q\";\n\nclass mapboxMap {\n  constructor() {\n    this.element = document.createElement(\"div\");\n    this.element.classList.add(\"mapboxMap\");\n    this.map = new mapboxgl.Map({\n      container: this.element,\n      style: \"mapbox://styles/mapbox/dark-v9\",\n      center: [134.956, -28.033],\n      zoom: 2.8\n    });\n    this.drawMarkers = this.drawMarkers.bind(this);\n    store.subscribe(state => this.drawMarkers(state));\n    this.markers = [];\n    this.map.on(\"load\", _ => {\n      this.drawMarkers(store.getState());\n    });\n\n    this.element.addEventListener(\n      \"mouseenter\",\n      e => {\n        store.setState({ activeItem: 0 });\n      },\n      false\n    );\n  }\n\n  drawMarkers(state) {\n    // Remove existing markers\n    this.markers.forEach(marker => {\n      marker.remove();\n    });\n\n    // Redraw markers\n    state.items.forEach(item => {\n      var el = document.createElement(\"div\");\n      el.classList.add(\"marker\");\n      el.classList.add(item.color);\n      if (state.hoverItem === item.id) {\n        el.classList.add(\"active\");\n      }\n      const marker = new mapboxgl.Marker(el);\n      marker.setLngLat(item.coordinates);\n      marker.addTo(this.map);\n      // Keep track of drawn markers in local state\n      this.markers.push(marker);\n\n      el.addEventListener(\n        \"mouseenter\",\n        e => {\n          store.setState({ activeItem: item.id });\n        },\n        false\n      );\n    });\n  }\n}\n\nexport { mapboxMap };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Map } from \"./map\";\nimport { Filters } from \"./filters\";\nimport { mapboxMap } from \"./mapbox\";\nimport { Provider } from \"unistore/react\";\nimport { store } from \"./store\";\nimport \"./styles.css\";\n\nconst myMap = new mapboxMap();\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <div className=\"container\">\n          <Filters />\n          <Map map={myMap} />\n        </div>\n      </Provider>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}